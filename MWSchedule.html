<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Community Service Scheduling</title>

<style>
body {
  font-family: system-ui, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  padding: 16px;
  margin: 0;
}

h1 { font-size: 1.4rem; }
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 16px;
}

th, td {
  border: 1px solid #334155;
  padding: 6px;
  text-align: center;
}

th { background: #1e293b; }
td { background: #020617; }

input { transform: scale(1.1); }

button {
  width: 100%;
  margin-top: 16px;
  padding: 12px;
  font-size: 1rem;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 6px;
}

#result {
  margin-top: 12px;
  font-weight: bold;
  color: #f87171;
}

/* Modal Overlay */
.modalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  padding: 20px;
  z-index: 9999;
}

.modalOverlay.active {
  opacity: 1;
  pointer-events: auto;
}

.modalBox {
  background: #1e293b;
  max-width: 700px;
  width: 100%;
  padding: 24px;
  border-radius: 10px;
  line-height: 1.6;
  box-shadow: 0 0 30px rgba(0,0,0,0.6);
  transform: scale(0.9);
  transition: transform 0.3s ease;
}

.modalOverlay.active .modalBox {
  transform: scale(1);
}

.closeBtn {
  margin-top: 20px;
  padding: 10px;
  background: #334155;
  border-radius: 6px;
  text-align: center;
  cursor: pointer;
}
</style>
</head>
<body>

<div id="puzzleContainer">

<h1>Community Service Scheduling</h1>

<table>
<thead>
<tr>
<th>Name</th>
<th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th>
<th>Fri</th><th>Sat</th><th>Sun</th>
</tr>
</thead>
<tbody id="grid"></tbody>
</table>

<button onclick="check()">Check Schedule</button>
<div id="result"></div>

</div>

<!-- MODAL -->
<div class="modalOverlay" id="successModal">
  <div class="modalBox">
    You hand Richard the schedule and he looks over it.<br><br>
    "Looks good, I knew cops could be good for something. Okay, a deal is a deal. Like I said, when Mr. Tony was shot, I was helping one of the guys with something. Cowboy had brought me in on the down low to help move some counterfeit watches. Here, I snapped a picture of me wearing one because it looked so real. You can see him in the background and we were at Sal's Pawn Shop a few miles away from here." Richard pulls out his phone and shows you a picture of him with a watch and there in the background is Santino along with the sign for Sal's Pawn. Checking the info on the picture confirms it. Richard takes his phone back before adding, "I don't know who killed him, but it wasn't Cowboy. Alright, I gotta go. If you decide you need a good watch, let me know!"
    <div class="closeBtn" onclick="closeModal()">Close</div>
  </div>
</div>

<script>
const people = ["Richard","Marcus","Claire","Zara","Phillip"];
const days = ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];

// ✅ One-solution schedule
const solution = {
  Richard:["Mon","Wed","Fri","Sat","Sun"],
  Marcus:["Thu","Fri","Sat","Sun"],
  Claire:["Mon","Tue","Wed","Thu","Sat"],
  Zara:["Tue","Thu","Fri","Sun"],
  Phillip:["Mon","Tue","Wed"]
};

const grid = document.getElementById("grid");
const result = document.getElementById("result");

// Generate grid with checkboxes
people.forEach(p=>{
  const row = document.createElement("tr");
  row.innerHTML = `<td>${p}</td>`;
  days.forEach(d=>{
    row.innerHTML += `<td><input type="checkbox" data-p="${p}" data-d="${d}"></td>`;
  });
  grid.appendChild(row);
});

// Check function validates exact one-solution schedule
function check(){
  const picks = {};
  people.forEach(p => picks[p] = []);
  document.querySelectorAll("input:checked").forEach(c=>{
    picks[c.dataset.p].push(c.dataset.d);
  });

  for(const p in solution){
    if(picks[p].length !== solution[p].length){
      result.textContent = "❌ One or more rules are violated.";
      return;
    }
    for(const d of solution[p]){
      if(!picks[p].includes(d)){
        result.textContent = "❌ One or more rules are violated.";
        return;
      }
    }
  }

  // Success
  result.textContent = "";
  openModal();
}

function openModal(){
  document.getElementById("successModal").classList.add("active");
  document.body.style.overflow = "hidden";
}

function closeModal(){
  document.getElementById("successModal").classList.remove("active");
  document.body.style.overflow = "auto";
}
</script>

</body>
</html>
